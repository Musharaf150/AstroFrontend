---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import fetchApi from "../lib/strapi";


const data = await fetchApi({
    endpoint: "blogs",
    wrappedByKey: "data",
});
console.log(data[0].slug)
---

<Layout>
    {data ? (
        <div id="homeDiv">
        {
            data.map((item: any, index) => (
                <div key={index}>
                    <a href={`/blog/${item.slug}`}>
                        <Image
                            src={`${item.image[0].url}`}
                            alt={item.title}
                            height="200"
                            width="200"
                            class="pic"
                        />
                    </a>
                    <h1>{item.title}</h1>
                </div>
            ))
        }
    </div>
    ):
    <div>No Data Found!!!</div>
    }
</Layout>

